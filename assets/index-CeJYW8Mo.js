(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))c(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function g(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(i){if(i.ep)return;i.ep=!0;const o=g(i);fetch(i.href,o)}})();document.addEventListener("DOMContentLoaded",()=>{const p=document.querySelector(".header__burger"),u=document.querySelector(".header__nav");p&&u&&p.addEventListener("click",()=>{u.classList.toggle("is-open");const n=u.classList.contains("is-open");p.setAttribute("aria-expanded",n)});const g=document.querySelectorAll(".hero__button, .button--ticket"),c=document.querySelector("#ticket-modal"),i=document.querySelectorAll("[data-modal-close]");if(c){const n=()=>{c.classList.remove("is-hidden"),document.body.style.overflow="hidden",setTimeout(()=>c.classList.add("is-open"),10)},a=()=>{c.classList.remove("is-open"),document.body.style.overflow="",setTimeout(()=>c.classList.add("is-hidden"),300)};g.forEach(l=>{l.addEventListener("click",n)}),i.forEach(l=>l.addEventListener("click",a))}const o=document.querySelector(".contact__form"),d=document.querySelector("#contact-form-wrapper");if(o&&d){const n=d.innerHTML;o.addEventListener("submit",async a=>{a.preventDefault();let l=!0;o.querySelectorAll(".form__input, .form__textarea").forEach(e=>{e.classList.remove("is-invalid"),e.nextElementSibling.textContent="",e.nextElementSibling.style.display="none"});const r=o.querySelector("#name"),t=o.querySelector("#email"),s=o.querySelector("#message");r.value.trim()===""&&(l=!1,r.classList.add("is-invalid"),r.nextElementSibling.textContent="Будь ласка, введіть ваше ім'я.",r.nextElementSibling.style.display="block");const m=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(t.value.trim()===""?(l=!1,t.classList.add("is-invalid"),t.nextElementSibling.textContent="Будь ласка, введіть ваш email.",t.nextElementSibling.style.display="block"):m.test(t.value)||(l=!1,t.classList.add("is-invalid"),t.nextElementSibling.textContent="Введіть коректний email.",t.nextElementSibling.style.display="block"),s.value.trim()===""&&(l=!1,s.classList.add("is-invalid"),s.nextElementSibling.textContent="Поле повідомлення не може бути порожнім.",s.nextElementSibling.style.display="block"),l){console.log("Форма валідна. Відправляємо mock-запит...");try{const e=await fetch("https://jsonplaceholder.typicode.com/posts/1");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const y=await e.json();console.log("Mock-запит успішний. Отримані дані:",y),d.innerHTML='<div style="display: flex; flex-direction: column; justify-content: center; align-items: center; width: 100%; min-height: 300px; text-align: center; color: #F0F0F0;"><h2>Дякуємо!</h2><p>Ваше повідомлення успішно відправлено.</p></div>',setTimeout(()=>{d.innerHTML=n,x()},1e4)}catch(e){console.error("Помилка під час виконання mock-запиту:",e),alert("Сталася помилка під час відправки. Спробуйте ще раз.")}}})}function x(){const n=document.querySelector(".contact__form");n&&n.addEventListener("submit",async a=>{a.preventDefault();let l=!0;n.querySelectorAll(".form__input, .form__textarea").forEach(e=>{e.classList.remove("is-invalid"),e.nextElementSibling.textContent="",e.nextElementSibling.style.display="none"});const r=n.querySelector("#name"),t=n.querySelector("#email"),s=n.querySelector("#message");r.value.trim()===""&&(l=!1,r.classList.add("is-invalid"),r.nextElementSibling.textContent="Будь ласка, введіть ваше ім'я.",r.nextElementSibling.style.display="block");const m=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(t.value.trim()===""?(l=!1,t.classList.add("is-invalid"),t.nextElementSibling.textContent="Будь ласка, введіть ваш email.",t.nextElementSibling.style.display="block"):m.test(t.value)||(l=!1,t.classList.add("is-invalid"),t.nextElementSibling.textContent="Введіть коректний email.",t.nextElementSibling.style.display="block"),s.value.trim()===""&&(l=!1,s.classList.add("is-invalid"),s.nextElementSibling.textContent="Поле повідомлення не може бути порожнім.",s.nextElementSibling.style.display="block"),l){console.log("Форма валідна. Відправляємо mock-запит...");try{const e=await fetch("https://jsonplaceholder.typicode.com/posts/1");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const y=await e.json();console.log("Mock-запит успішний. Отримані дані:",y);const f=document.querySelector("#contact-form-wrapper");f.innerHTML='<div style="display: flex; flex-direction: column; justify-content: center; align-items: center; width: 100%; min-height: 300px; text-align: center; color: #F0F0F0;"><h2>Дякуємо!</h2><p>Ваше повідомлення успішно відправлено.</p></div>',setTimeout(()=>{f.innerHTML=originalFormHTML,x()},5e3)}catch(e){console.error("Помилка під час виконання mock-запиту:",e),alert("Сталася помилка під час відправки. Спробуйте ще раз.")}}})}x();function v(){const n=document.querySelector(".modal__form");if(!n)return;const a=n.closest(".modal__content"),l=a.innerHTML;n.addEventListener("submit",async r=>{r.preventDefault();let t=!0;n.querySelectorAll(".form__input").forEach(e=>{e.classList.remove("is-invalid"),e.nextElementSibling.textContent="",e.nextElementSibling.style.display="none"});const s=n.querySelector("#modal-name"),m=n.querySelector("#modal-email");if(s.value.trim()===""&&(t=!1,s.classList.add("is-invalid"),s.nextElementSibling.textContent="Будь ласка, введіть ваше ім'я.",s.nextElementSibling.style.display="block"),m.value.trim()===""&&(t=!1,m.classList.add("is-invalid"),m.nextElementSibling.textContent="Введіть ваш email або телефон.",m.nextElementSibling.style.display="block"),t){console.log("Модальна форма валідна. Відправляємо mock-запит...");try{const e=await fetch("https://jsonplaceholder.typicode.com/posts/2");if(!e.ok)throw new Error(`HTTP error. status: ${e.status}`);const y=await e.json();console.log("sucsess! your data:",y),a.innerHTML=`<div style="display: flex; flex-direction: column; justify-content: center; align-items: center; min-height: 200px; text-align: center; color: #F0F0F0;"><h2>Заявка прийнята!</h2><p>Ми скоро з вами зв'яжемося.</p></div>`,setTimeout(()=>{const f=document.querySelector("#ticket-modal");f&&(f.classList.remove("is-open"),document.body.style.overflow="",setTimeout(()=>{f.classList.add("is-hidden"),a.innerHTML=l,v()},300))},5e3)}catch(e){console.error(e),alert("Сталася помилка під час відправки. Спробуйте ще раз.")}}})}v()});
